{"version":3,"sources":["../src/editor-kit.ts","../src/editor.tsx"],"names":[],"mappings":";;;;;;;;;;AA2CO,IAAM,SAAA,GAAY;AAAA,EACvB,GAAG,UAAA;AAAA;AAAA,EAGH,GAAG,cAAA;AAAA,EACH,GAAG,YAAA;AAAA,EACH,GAAG,QAAA;AAAA,EACH,GAAG,SAAA;AAAA,EACH,GAAG,MAAA;AAAA,EACH,GAAG,QAAA;AAAA,EACH,GAAG,UAAA;AAAA,EACH,GAAG,SAAA;AAAA,EACH,GAAG,OAAA;AAAA,EACH,GAAG,OAAA;AAAA,EACH,GAAG,OAAA;AAAA,EACH,GAAG,UAAA;AAAA;AAAA,EAGH,GAAG,aAAA;AAAA,EACH,GAAG,OAAA;AAAA;AAAA,EAGH,GAAG,OAAA;AAAA,EACH,GAAG,QAAA;AAAA,EACH,GAAG,aAAA;AAAA;AAAA,EAGH,GAAG,aAAA;AAAA,EACH,GAAG,UAAA;AAAA,EACH,GAAG,aAAA;AAAA;AAAA,EAGH,GAAG,QAAA;AAAA,EACH,GAAG,aAAA;AAAA,EACH,GAAG,gBAAA;AAAA,EACH,GAAG,YAAA;AAAA,EACH,GAAG,MAAA;AAAA,EACH,GAAG,QAAA;AAAA,EACH,GAAG,YAAA;AAAA,EACH,mBAAA;AAAA;AAAA,EAGA,GAAG,OAAA;AAAA,EACH,GAAG,WAAA;AAAA;AAAA,EAGH,GAAG,mBAAA;AAAA,EACH,GAAG,eAAA;AAAA,EACH,GAAG;AACL;AAIO,IAAM,SAAA,GAAY,MAAM,YAAA;ACnDxB,SAAS,WAAA,CAAY;AAAA,EAC1B,eAAA,GAAkB,EAAA;AAAA,EAClB,QAAA;AAAA,EACA,WAAA,GAAc,kBAAA;AAAA,EACd,OAAA,GAAU,MAAA;AAAA,EACV,OAAA;AAAA,EACA,SAAA;AAAA,EACA,SAAA,GAAY;AACd,CAAA,EAAqB;AACnB,EAAA,MAAM,SAAS,cAAA,CAAe;AAAA,IAC5B,SAAS,OAAA,IAAW;AAAA,GACrB,CAAA;AAGD,EAAA,MAAM,WAAA,GAAc,OAAO,KAAK,CAAA;AAChC,EAAA,IAAI,CAAC,YAAY,OAAA,EAAS;AACxB,IAAA,MAAM,CAAA,GAAI,MAAA;AACV,IAAA,IAAI,CAAA,CAAE,GAAA,EAAK,QAAA,IAAY,eAAA,EAAiB;AACtC,MAAA,MAAM,MAAA,GAAS,CAAA,CAAE,GAAA,CAAI,QAAA,CAAS,YAAY,eAAe,CAAA;AACzD,MAAA,IAAI,MAAA,IAAU,OAAO,MAAA,EAAQ;AAC3B,QAAA,MAAA,CAAO,QAAA,GAAW,MAAA;AAClB,QAAA,IAAI,EAAE,SAAA,EAAW;AACf,UAAA,CAAA,CAAE,SAAA,CAAU,EAAE,KAAA,EAAO,IAAA,EAAM,CAAA;AAAA,QAC7B;AAAA,MACF;AAAA,IACF;AACA,IAAA,WAAA,CAAY,OAAA,GAAU,IAAA;AAAA,EACxB;AAEA,EAAA,uBACE,GAAA;AAAA,IAAC,KAAA;AAAA,IAAA;AAAA,MACC,MAAA;AAAA,MACA,eAAe,MAAM;AACnB,QAAA,MAAM,EAAA,GAAK,MAAA,CAAO,GAAA,CAAI,QAAA,CAAS,SAAA,EAAU;AACzC,QAAA,QAAA,GAAW,EAAE,CAAA;AAAA,MACf,CAAA;AAAA,MAEA,QAAA,kBAAA,GAAA,CAAC,mBAAgB,SAAA,EACf,QAAA,kBAAA,GAAA;AAAA,QAAC,MAAA;AAAA,QAAA;AAAA,UACC,OAAA;AAAA,UACA,WAAA;AAAA,UACA,SAAA,EAAW,UAAU,SAAS,CAAA,oBAAA;AAAA;AAAA,OAChC,EACF;AAAA;AAAA,GACF;AAEJ","file":"index.js","sourcesContent":["'use client'\n\nimport { type Value, TrailingBlockPlugin } from 'platejs'\nimport { type TPlateEditor, useEditorRef } from 'platejs/react'\n\nimport { AlignKit } from './kits/align-kit'\nimport { AutoformatKit } from './kits/autoformat-kit'\nimport { BasicBlocksKit } from './kits/basic-blocks-kit'\nimport { BasicMarksKit } from './kits/basic-marks-kit'\nimport { BlockMenuKit } from './kits/block-menu-kit'\nimport { BlockPlaceholderKit } from './kits/block-placeholder-kit'\nimport { CalloutKit } from './kits/callout-kit'\nimport { CodeBlockKit } from './kits/code-block-kit'\nimport { ColumnKit } from './kits/column-kit'\nimport { CommentKit } from './kits/comment-kit'\nimport { CopilotKit } from './kits/copilot-kit'\nimport { CursorOverlayKit } from './kits/cursor-overlay-kit'\nimport { DateKit } from './kits/date-kit'\nimport { DiscussionKit } from './kits/discussion-kit'\nimport { DndKit } from './kits/dnd-kit'\nimport { DocxKit } from './kits/docx-kit'\nimport { EmojiKit } from './kits/emoji-kit'\nimport { ExitBreakKit } from './kits/exit-break-kit'\nimport { FixedToolbarKit } from './kits/fixed-toolbar-kit'\nimport { FloatingToolbarKit } from './kits/floating-toolbar-kit'\nimport { FontKit } from './kits/font-kit'\nimport { LineHeightKit } from './kits/line-height-kit'\nimport { LinkKit } from './kits/link-kit'\nimport { ListKit } from './kits/list-kit'\nimport { MarkdownKit } from './kits/markdown-kit'\nimport { MathKit } from './kits/math-kit'\nimport { MediaKit } from './kits/media-kit'\nimport { MentionKit } from './kits/mention-kit'\nimport { SlashKit } from './kits/slash-kit'\nimport { SuggestionKit } from './kits/suggestion-kit'\nimport { TableKit } from './kits/table-kit'\nimport { TocKit } from './kits/toc-kit'\nimport { ToggleKit } from './kits/toggle-kit'\n\n/**\n * Default editor plugin configuration\n * Includes all commonly used features\n */\nexport const EditorKit = [\n  ...CopilotKit,\n\n  // Elements\n  ...BasicBlocksKit,\n  ...CodeBlockKit,\n  ...TableKit,\n  ...ToggleKit,\n  ...TocKit,\n  ...MediaKit,\n  ...CalloutKit,\n  ...ColumnKit,\n  ...MathKit,\n  ...DateKit,\n  ...LinkKit,\n  ...MentionKit,\n\n  // Marks\n  ...BasicMarksKit,\n  ...FontKit,\n\n  // Block Styles\n  ...ListKit,\n  ...AlignKit,\n  ...LineHeightKit,\n\n  // Collaboration\n  ...DiscussionKit,\n  ...CommentKit,\n  ...SuggestionKit,\n\n  // Editing\n  ...SlashKit,\n  ...AutoformatKit,\n  ...CursorOverlayKit,\n  ...BlockMenuKit,\n  ...DndKit,\n  ...EmojiKit,\n  ...ExitBreakKit,\n  TrailingBlockPlugin,\n\n  // Parsers\n  ...DocxKit,\n  ...MarkdownKit,\n\n  // UI\n  ...BlockPlaceholderKit,\n  ...FixedToolbarKit,\n  ...FloatingToolbarKit,\n]\n\nexport type MyEditor = TPlateEditor<Value, (typeof EditorKit)[number]>\n\nexport const useEditor = () => useEditorRef<MyEditor>()\n","'use client'\n\nimport React, { useEffect, useMemo, useRef } from 'react'\nimport { Plate, usePlateEditor } from 'platejs/react'\n\nimport { EditorKit } from './editor-kit'\nimport { Editor, EditorContainer } from './components/ui/editor'\n\nexport interface PlateEditorProps {\n  /** Initial markdown content */\n  initialMarkdown?: string\n  /** Callback when content changes */\n  onChange?: (markdown: string) => void\n  /** Placeholder text */\n  placeholder?: string\n  /** Editor variant */\n  variant?: 'default' | 'demo' | 'fullWidth'\n  /** Custom plugins (defaults to EditorKit) */\n  plugins?: any[]\n  /** Additional className for the editor container */\n  className?: string\n  /** Minimum height for the editor */\n  minHeight?: string\n}\n\n/**\n * A standalone rich-text editor component based on Plate.js\n * \n * @example\n * ```tsx\n * import { PlateEditor } from '@susie/editor'\n * \n * function MyEditor() {\n *   const [content, setContent] = useState('')\n *   \n *   return (\n *     <PlateEditor\n *       initialMarkdown={content}\n *       onChange={setContent}\n *       placeholder=\"Start writing...\"\n *     />\n *   )\n * }\n * ```\n */\nexport function PlateEditor({\n  initialMarkdown = '',\n  onChange,\n  placeholder = 'Start writing...',\n  variant = 'demo',\n  plugins,\n  className,\n  minHeight = '500px',\n}: PlateEditorProps) {\n  const editor = usePlateEditor({\n    plugins: plugins ?? EditorKit,\n  })\n\n  // Initialize editor content\n  const initialized = useRef(false)\n  if (!initialized.current) {\n    const e = editor as any\n    if (e.api?.markdown && initialMarkdown) {\n      const parsed = e.api.markdown.deserialize(initialMarkdown)\n      if (parsed && parsed.length) {\n        editor.children = parsed\n        if (e.normalize) {\n          e.normalize({ force: true })\n        }\n      }\n    }\n    initialized.current = true\n  }\n\n  return (\n    <Plate\n      editor={editor}\n      onValueChange={() => {\n        const md = editor.api.markdown.serialize()\n        onChange?.(md)\n      }}\n    >\n      <EditorContainer className={className}>\n        <Editor\n          variant={variant}\n          placeholder={placeholder}\n          className={`min-h-[${minHeight}] px-8 py-8 sm:px-12`}\n        />\n      </EditorContainer>\n    </Plate>\n  )\n}\n"]}